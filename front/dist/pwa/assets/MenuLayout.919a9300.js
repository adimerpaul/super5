import{c as oe,f as u,p as $,t as re,a as We,ab as Ve,e as Fe,ad as He,h as Ne,x as Ue,y as ee,r as S,j as Ee,b8 as Re,w as d,X as je,a7 as me,o as Ke,U as O,at as he,z as Xe,q as Ge,b9 as Je,A as Ye,B as C,C as T,E as o,H as l,I as te,G as be,K as ae,J as B,Q as L,aE as Ze,M as et,O as tt,P as at,a$ as z,am as we}from"./index.9edba5f1.js";import{Q as lt}from"./QBadge.ea022153.js";import{Q as D,e as g,f as k}from"./QItem.eff87168.js";import{Q as ge}from"./QList.7302da53.js";import{a as ot,Q as rt}from"./QMenu.037e31f1.js";import{Q as ye,a as ut}from"./QFooter.d159bcf0.js";import{Q as it}from"./QImg.222921e7.js";import{Q as _e,a as nt}from"./QLayout.0f56a70f.js";import{T as le}from"./TouchPan.9588013c.js";import{b as H}from"./format.2cae61da.js";import{_ as st}from"./plugin-vue_export-helper.21dcd24c.js";import"./selection.83a0f183.js";import"./QResizeObserver.7ee9484d.js";import"./QScrollObserver.4aba2b6c.js";import"./touch.9135741d.js";var ct=oe({name:"QToolbarTitle",props:{shrink:Boolean},setup(t,{slots:v}){const m=u(()=>"q-toolbar__title ellipsis"+(t.shrink===!0?" col-shrink":""));return()=>$("div",{class:m.value},re(v.default))}}),dt=oe({name:"QToolbar",props:{inset:Boolean},setup(t,{slots:v}){const m=u(()=>"q-toolbar row no-wrap items-center"+(t.inset===!0?" q-toolbar--inset":""));return()=>$("div",{class:m.value,role:"toolbar"},re(v.default))}});const pe=150;var ft=oe({name:"QDrawer",inheritAttrs:!1,props:{...We,...Ve,side:{type:String,default:"left",validator:t=>["left","right"].includes(t)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:t=>["default","desktop","mobile"].includes(t),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Fe,"onLayout","miniState"],setup(t,{slots:v,emit:m,attrs:N}){const h=Ge(),{proxy:{$q:n}}=h,U=He(t,n),{preventBodyScroll:c}=Je(),{registerTimeout:ue,removeTimeout:ke}=Ne(),a=Ue(Xe,ee);if(a===ee)return console.error("QDrawer needs to be child of QLayout"),ee;let E,x=null,M;const s=S(t.behavior==="mobile"||t.behavior!=="desktop"&&a.totalWidth.value<=t.breakpoint),A=u(()=>t.mini===!0&&s.value!==!0),b=u(()=>A.value===!0?t.miniWidth:t.width),i=S(t.showIfAbove===!0&&s.value===!1?!0:t.modelValue===!0),ie=u(()=>t.persistent!==!0&&(s.value===!0||Be.value===!0));function ne(e,r){if(xe(),e!==!1&&a.animate(),w(0),s.value===!0){const f=a.instances[V.value];f!==void 0&&f.belowBreakpoint===!0&&f.hide(!1),_(1),a.isContainer.value!==!0&&c(!0)}else _(0),e!==!1&&J(!1);ue(()=>{e!==!1&&J(!0),r!==!0&&m("show",e)},pe)}function se(e,r){Ce(),e!==!1&&a.animate(),_(0),w(Q.value*b.value),Y(),r!==!0?ue(()=>{m("hide",e)},pe):ke()}const{show:R,hide:I}=Ee({showing:i,hideOnRouteChange:ie,handleShow:ne,handleHide:se}),{addToHistory:xe,removeFromHistory:Ce}=Re(i,I,ie),W={belowBreakpoint:s,hide:I},y=u(()=>t.side==="right"),Q=u(()=>(n.lang.rtl===!0?-1:1)*(y.value===!0?1:-1)),ce=S(0),q=S(!1),j=S(!1),de=S(b.value*Q.value),V=u(()=>y.value===!0?"left":"right"),K=u(()=>i.value===!0&&s.value===!1&&t.overlay===!1?t.miniToOverlay===!0?t.miniWidth:b.value:0),X=u(()=>t.overlay===!0||t.miniToOverlay===!0||a.view.value.indexOf(y.value?"R":"L")!==-1||n.platform.is.ios===!0&&a.isContainer.value===!0),P=u(()=>t.overlay===!1&&i.value===!0&&s.value===!1),Be=u(()=>t.overlay===!0&&i.value===!0&&s.value===!1),Qe=u(()=>"fullscreen q-drawer__backdrop"+(i.value===!1&&q.value===!1?" hidden":"")),qe=u(()=>({backgroundColor:`rgba(0,0,0,${ce.value*.4})`})),fe=u(()=>y.value===!0?a.rows.value.top[2]==="r":a.rows.value.top[0]==="l"),Se=u(()=>y.value===!0?a.rows.value.bottom[2]==="r":a.rows.value.bottom[0]==="l"),Te=u(()=>{const e={};return a.header.space===!0&&fe.value===!1&&(X.value===!0?e.top=`${a.header.offset}px`:a.header.space===!0&&(e.top=`${a.header.size}px`)),a.footer.space===!0&&Se.value===!1&&(X.value===!0?e.bottom=`${a.footer.offset}px`:a.footer.space===!0&&(e.bottom=`${a.footer.size}px`)),e}),Le=u(()=>{const e={width:`${b.value}px`,transform:`translateX(${de.value}px)`};return s.value===!0?e:Object.assign(e,Te.value)}),De=u(()=>"q-drawer__content fit "+(a.isContainer.value!==!0?"scroll":"overflow-auto")),Oe=u(()=>`q-drawer q-drawer--${t.side}`+(j.value===!0?" q-drawer--mini-animate":"")+(t.bordered===!0?" q-drawer--bordered":"")+(U.value===!0?" q-drawer--dark q-dark":"")+(q.value===!0?" no-transition":i.value===!0?"":" q-layout--prevent-focus")+(s.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${A.value===!0?"mini":"standard"}`+(X.value===!0||P.value!==!0?" fixed":"")+(t.overlay===!0||t.miniToOverlay===!0?" q-drawer--on-top":"")+(fe.value===!0?" q-drawer--top-padding":""))),$e=u(()=>{const e=n.lang.rtl===!0?t.side:V.value;return[[le,Pe,void 0,{[e]:!0,mouse:!0}]]}),Me=u(()=>{const e=n.lang.rtl===!0?V.value:t.side;return[[le,ve,void 0,{[e]:!0,mouse:!0}]]}),Ae=u(()=>{const e=n.lang.rtl===!0?V.value:t.side;return[[le,ve,void 0,{[e]:!0,mouse:!0,mouseAllDir:!0}]]});function G(){ze(s,t.behavior==="mobile"||t.behavior!=="desktop"&&a.totalWidth.value<=t.breakpoint)}d(s,e=>{e===!0?(E=i.value,i.value===!0&&I(!1)):t.overlay===!1&&t.behavior!=="mobile"&&E!==!1&&(i.value===!0?(w(0),_(0),Y()):R(!1))}),d(()=>t.side,(e,r)=>{a.instances[r]===W&&(a.instances[r]=void 0,a[r].space=!1,a[r].offset=0),a.instances[e]=W,a[e].size=b.value,a[e].space=P.value,a[e].offset=K.value}),d(a.totalWidth,()=>{(a.isContainer.value===!0||document.qScrollPrevented!==!0)&&G()}),d(()=>t.behavior+t.breakpoint,G),d(a.isContainer,e=>{i.value===!0&&c(e!==!0),e===!0&&G()}),d(a.scrollbarWidth,()=>{w(i.value===!0?0:void 0)}),d(K,e=>{p("offset",e)}),d(P,e=>{m("onLayout",e),p("space",e)}),d(y,()=>{w()}),d(b,e=>{w(),Z(t.miniToOverlay,e)}),d(()=>t.miniToOverlay,e=>{Z(e,b.value)}),d(()=>n.lang.rtl,()=>{w()}),d(()=>t.mini,()=>{t.noMiniAnimation||t.modelValue===!0&&(Ie(),a.animate())}),d(A,e=>{m("miniState",e)});function w(e){e===void 0?me(()=>{e=i.value===!0?0:b.value,w(Q.value*e)}):(a.isContainer.value===!0&&y.value===!0&&(s.value===!0||Math.abs(e)===b.value)&&(e+=Q.value*a.scrollbarWidth.value),de.value=e)}function _(e){ce.value=e}function J(e){const r=e===!0?"remove":a.isContainer.value!==!0?"add":"";r!==""&&document.body.classList[r]("q-body--drawer-toggle")}function Ie(){x!==null&&clearTimeout(x),h.proxy&&h.proxy.$el&&h.proxy.$el.classList.add("q-drawer--mini-animate"),j.value=!0,x=setTimeout(()=>{x=null,j.value=!1,h&&h.proxy&&h.proxy.$el&&h.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Pe(e){if(i.value!==!1)return;const r=b.value,f=H(e.distance.x,0,r);if(e.isFinal===!0){f>=Math.min(75,r)===!0?R():(a.animate(),_(0),w(Q.value*r)),q.value=!1;return}w((n.lang.rtl===!0?y.value!==!0:y.value)?Math.max(r-f,0):Math.min(0,f-r)),_(H(f/r,0,1)),e.isFirst===!0&&(q.value=!0)}function ve(e){if(i.value!==!0)return;const r=b.value,f=e.direction===t.side,F=(n.lang.rtl===!0?f!==!0:f)?H(e.distance.x,0,r):0;if(e.isFinal===!0){Math.abs(F)<Math.min(75,r)===!0?(a.animate(),_(1),w(0)):I(),q.value=!1;return}w(Q.value*F),_(H(1-F/r,0,1)),e.isFirst===!0&&(q.value=!0)}function Y(){c(!1),J(!0)}function p(e,r){a.update(t.side,e,r)}function ze(e,r){e.value!==r&&(e.value=r)}function Z(e,r){p("size",e===!0?t.miniWidth:r)}return a.instances[t.side]=W,Z(t.miniToOverlay,b.value),p("space",P.value),p("offset",K.value),t.showIfAbove===!0&&t.modelValue!==!0&&i.value===!0&&t["onUpdate:modelValue"]!==void 0&&m("update:modelValue",!0),je(()=>{m("onLayout",P.value),m("miniState",A.value),E=t.showIfAbove===!0;const e=()=>{(i.value===!0?ne:se)(!1,!0)};if(a.totalWidth.value!==0){me(e);return}M=d(a.totalWidth,()=>{M(),M=void 0,i.value===!1&&t.showIfAbove===!0&&s.value===!1?R(!1):e()})}),Ke(()=>{M!==void 0&&M(),x!==null&&(clearTimeout(x),x=null),i.value===!0&&Y(),a.instances[t.side]===W&&(a.instances[t.side]=void 0,p("size",0),p("offset",0),p("space",!1))}),()=>{const e=[];s.value===!0&&(t.noSwipeOpen===!1&&e.push(O($("div",{key:"open",class:`q-drawer__opener fixed-${t.side}`,"aria-hidden":"true"}),$e.value)),e.push(he("div",{ref:"backdrop",class:Qe.value,style:qe.value,"aria-hidden":"true",onClick:I},void 0,"backdrop",t.noSwipeBackdrop!==!0&&i.value===!0,()=>Ae.value)));const r=A.value===!0&&v.mini!==void 0,f=[$("div",{...N,key:""+r,class:[De.value,N.class]},r===!0?v.mini():re(v.default))];return t.elevated===!0&&i.value===!0&&f.push($("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),e.push(he("aside",{ref:"content",class:Oe.value,style:Le.value},f,"contentclose",t.noSwipeClose!==!0&&s.value===!0,()=>Me.value)),$("div",{class:"q-drawer-container"},e)}}});const vt={data(){return{leftDrawerOpen:!1,essentialLinks:[{title:"Inicio",icon:"home",to:"/menu"},{title:"Productos",icon:"store",to:"/products"},{title:"Categoria",icon:"category",to:"/category"},{title:"Subcategoria",icon:"inventory_2",to:"/sub_category"},{title:"Usuarios",icon:"people",to:"/users"},{title:"Carousel",icon:"view_carousel",to:"/carousel"},{title:"Pagina Web",icon:"web",to:"/"}]}},methods:{textCapitalize(t){if(!t)return"";const v=t.toLowerCase();return t.charAt(0).toUpperCase()+v.slice(1)},toggleLeftDrawer(){this.leftDrawerOpen=!this.leftDrawerOpen},logout(){this.$alert.dialog("\xBFEst\xE1 seguro que desea cerrar sesi\xF3n?").onOk(()=>{this.$axios.post("/logout").then(()=>{this.$store.isLogeed=!1,this.$store.user={},localStorage.removeItem("tokenEco"),this.$router.push("/login")})})}},computed:{rutaActual(){return this.$route.path},title(){const t=this.$route.path;return t==="/"?"Inicio":t==="/products"?"Productos":t==="/category"?"Categoria":t==="/sub_category"?"Subcategoria":t==="/users"?"Usuarios":t==="/carousel"?"Carousel":"Inicio"}}},mt={class:"text-primary text-bold"};function ht(t,v,m,N,h,n){const U=Ye("router-view");return C(),T(_e,{view:"lHh Lpr lFf"},{default:o(()=>[l(ye,{class:"bg-white text-black",bordered:""},{default:o(()=>[l(dt,null,{default:o(()=>[l(te,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:n.toggleLeftDrawer},null,8,["onClick"]),l(ct,null,{default:o(()=>[be("div",mt,ae(n.title),1)]),_:1}),be("div",null,[l(te,{flat:"",dense:"",icon:"o_notifications","aria-label":"Notificaciones"},{default:o(()=>[l(lt,{color:"primary","text-color":"white",floating:""},{default:o(()=>[B("3")]),_:1})]),_:1}),l(te,{flat:"",dense:"",icon:"o_account_circle","aria-label":"Menu",label:n.textCapitalize(t.$store.user.name),"no-caps":"","icon-right":"arrow_drop_down"},{default:o(()=>[l(ot,null,{default:o(()=>[l(ge,null,{default:o(()=>[O((C(),T(D,{clickable:""},{default:o(()=>[l(g,{avatar:""},{default:o(()=>[l(L,{icon:"account_circle"})]),_:1}),l(g,null,{default:o(()=>[l(k,null,{default:o(()=>[B("Perfil")]),_:1})]),_:1})]),_:1})),[[z]]),O((C(),T(D,{clickable:""},{default:o(()=>[l(g,{avatar:""},{default:o(()=>[l(L,{icon:"settings"})]),_:1}),l(g,null,{default:o(()=>[l(k,null,{default:o(()=>[B("Configuraci\xF3n")]),_:1})]),_:1})]),_:1})),[[z]]),O((C(),T(D,{clickable:"",onClick:n.logout},{default:o(()=>[l(g,{avatar:""},{default:o(()=>[l(L,{icon:"logout"})]),_:1}),l(g,null,{default:o(()=>[l(k,null,{default:o(()=>[B("Cerrar Sesi\xF3n")]),_:1})]),_:1})]),_:1},8,["onClick"])),[[z]])]),_:1})]),_:1})]),_:1},8,["label"])])]),_:1})]),_:1}),l(ft,{modelValue:h.leftDrawerOpen,"onUpdate:modelValue":v[0]||(v[0]=c=>h.leftDrawerOpen=c),"show-if-above":"",width:220,class:"bg-primary text-white"},{default:o(()=>[l(_e,null,{default:o(()=>[l(ye,null,{default:o(()=>[l(ge,null,{default:o(()=>[l(k,{class:"q-pa-xs"},{default:o(()=>[l(D,{dense:""},{default:o(()=>[l(g,{avatar:""},{default:o(()=>[l(L,{class:"bg-white","text-color":"primary",size:"45px"},{default:o(()=>[l(it,{src:"/logo.png"})]),_:1})]),_:1}),l(g,null,{default:o(()=>[l(k,{class:"text-white"},{default:o(()=>[l(rt,{dense:"",label:"Admin",color:"grey","text-color":"white",icon:"account_circle"})]),_:1}),l(k,{caption:"",class:"text-white"},{default:o(()=>[B(ae(t.$store.user.name),1)]),_:1})]),_:1})]),_:1})]),_:1}),l(Ze,{dark:""}),(C(!0),et(at,null,tt(h.essentialLinks,c=>O((C(),T(D,{clickable:"",dense:"",key:c.title,to:c.to,exact:"",class:we(`text-white ${n.rutaActual==c.to?"bg-secondary":""}`)},{default:o(()=>[l(g,{avatar:""},{default:o(()=>[l(L,{"text-color":"white",icon:`${n.rutaActual==c.to?c.icon:"o_"+c.icon}`,size:`${n.rutaActual==c.to?"45px":"38px"}`},null,8,["icon","size"])]),_:2},1024),l(g,null,{default:o(()=>[l(k,{class:we(`text-white ${n.rutaActual==c.to?"text-bold":""}`)},{default:o(()=>[B(ae(c.title),1)]),_:2},1032,["class"])]),_:2},1024)]),_:2},1032,["to","class"])),[[z]])),128))]),_:1})]),_:1}),l(ut,null,{default:o(()=>[O((C(),T(D,{clickable:"",dense:"",onClick:n.logout},{default:o(()=>[l(g,{avatar:""},{default:o(()=>[l(L,{"text-color":"",icon:"logout",size:"38px"})]),_:1}),l(g,null,{default:o(()=>[l(k,{class:""},{default:o(()=>[B("Cerrar Sesi\xF3n")]),_:1})]),_:1})]),_:1},8,["onClick"])),[[z]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(nt,null,{default:o(()=>[l(U)]),_:1})]),_:1})}var Ot=st(vt,[["render",ht]]);export{Ot as default};

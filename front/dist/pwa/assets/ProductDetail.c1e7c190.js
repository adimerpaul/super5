import{c as $,f as m,p as b,t as pe,ab as he,r as f,ad as fe,ay as be,w as ge,az as ze,aA as ye,o as Se,_ as _e,U as I,q as ke,aB as R,aC as A,B as d,C as p,E as x,G as u,M as F,H as c,I as z,L as v,aD as qe,K as C,aE as xe,aF as Ce,J as Ve,aG as y}from"./index.9edba5f1.js";import{Q as B}from"./QSpace.4e595e69.js";import{Q as J}from"./QBtnGroup.6b583132.js";import{a as T,Q as we}from"./QCarousel.fe5aa4aa.js";import{Q as Qe}from"./QBadge.ea022153.js";import{Q as K}from"./QResizeObserver.7ee9484d.js";import{Q as Pe}from"./QScrollObserver.4aba2b6c.js";import{T as W}from"./TouchPan.9588013c.js";import{b as H}from"./format.2cae61da.js";import{Q as Me}from"./QPage.8e64ec2d.js";import{_ as Te}from"./plugin-vue_export-helper.21dcd24c.js";import"./touch.9135741d.js";import"./selection.83a0f183.js";import"./use-fullscreen.f8a2fd6b.js";var He=$({name:"QCarouselControl",props:{position:{type:String,default:"bottom-right",validator:o=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(o)},offset:{type:Array,default:()=>[18,18],validator:o=>o.length===2}},setup(o,{slots:i}){const V=m(()=>`q-carousel__control absolute absolute-${o.position}`),S=m(()=>({margin:`${o.offset[1]}px ${o.offset[0]}px`}));return()=>b("div",{class:V.value,style:S.value},pe(i.default))}});const X=["vertical","horizontal"],O={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},Y={prevent:!0,mouse:!0,mouseAllDir:!0},Z=o=>o>=250?50:Math.ceil(o/5);var Ae=$({name:"QScrollArea",props:{...he,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(o,{slots:i,emit:V}){const S=f(!1),e=f(!1),h=f(!1),a={vertical:f(0),horizontal:f(0)},t={vertical:{ref:f(null),position:f(0),size:f(0)},horizontal:{ref:f(null),position:f(0),size:f(0)}},{proxy:g}=ke(),s=fe(o,g.$q);let w=null,D;const _=f(null),ee=m(()=>"q-scrollarea"+(s.value===!0?" q-scrollarea--dark":""));t.vertical.percentage=m(()=>{const l=t.vertical.size.value-a.vertical.value;if(l<=0)return 0;const r=H(t.vertical.position.value/l,0,1);return Math.round(r*1e4)/1e4}),t.vertical.thumbHidden=m(()=>(o.visible===null?h.value:o.visible)!==!0&&S.value===!1&&e.value===!1||t.vertical.size.value<=a.vertical.value+1),t.vertical.thumbStart=m(()=>t.vertical.percentage.value*(a.vertical.value-t.vertical.thumbSize.value)),t.vertical.thumbSize=m(()=>Math.round(H(a.vertical.value*a.vertical.value/t.vertical.size.value,Z(a.vertical.value),a.vertical.value))),t.vertical.style=m(()=>({...o.thumbStyle,...o.verticalThumbStyle,top:`${t.vertical.thumbStart.value}px`,height:`${t.vertical.thumbSize.value}px`})),t.vertical.thumbClass=m(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(t.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),t.vertical.barClass=m(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(t.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),t.horizontal.percentage=m(()=>{const l=t.horizontal.size.value-a.horizontal.value;if(l<=0)return 0;const r=H(Math.abs(t.horizontal.position.value)/l,0,1);return Math.round(r*1e4)/1e4}),t.horizontal.thumbHidden=m(()=>(o.visible===null?h.value:o.visible)!==!0&&S.value===!1&&e.value===!1||t.horizontal.size.value<=a.horizontal.value+1),t.horizontal.thumbStart=m(()=>t.horizontal.percentage.value*(a.horizontal.value-t.horizontal.thumbSize.value)),t.horizontal.thumbSize=m(()=>Math.round(H(a.horizontal.value*a.horizontal.value/t.horizontal.size.value,Z(a.horizontal.value),a.horizontal.value))),t.horizontal.style=m(()=>({...o.thumbStyle,...o.horizontalThumbStyle,[g.$q.lang.rtl===!0?"right":"left"]:`${t.horizontal.thumbStart.value}px`,width:`${t.horizontal.thumbSize.value}px`})),t.horizontal.thumbClass=m(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(t.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),t.horizontal.barClass=m(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(t.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const te=m(()=>t.vertical.thumbHidden.value===!0&&t.horizontal.thumbHidden.value===!0?o.contentStyle:o.contentActiveStyle),le=[[W,l=>{E(l,"vertical")},void 0,{vertical:!0,...Y}]],oe=[[W,l=>{E(l,"horizontal")},void 0,{horizontal:!0,...Y}]];function U(){const l={};return X.forEach(r=>{const n=t[r];l[r+"Position"]=n.position.value,l[r+"Percentage"]=n.percentage.value,l[r+"Size"]=n.size.value,l[r+"ContainerSize"]=a[r].value}),l}const j=be(()=>{const l=U();l.ref=g,V("scroll",l)},0);function N(l,r,n){if(X.includes(l)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(l==="vertical"?R:A)(_.value,r,n)}function re({height:l,width:r}){let n=!1;a.vertical.value!==l&&(a.vertical.value=l,n=!0),a.horizontal.value!==r&&(a.horizontal.value=r,n=!0),n===!0&&Q()}function ie({position:l}){let r=!1;t.vertical.position.value!==l.top&&(t.vertical.position.value=l.top,r=!0),t.horizontal.position.value!==l.left&&(t.horizontal.position.value=l.left,r=!0),r===!0&&Q()}function ae({height:l,width:r}){t.horizontal.size.value!==r&&(t.horizontal.size.value=r,Q()),t.vertical.size.value!==l&&(t.vertical.size.value=l,Q())}function E(l,r){const n=t[r];if(l.isFirst===!0){if(n.thumbHidden.value===!0)return;D=n.position.value,e.value=!0}else if(e.value!==!0)return;l.isFinal===!0&&(e.value=!1);const q=O[r],M=a[r].value,de=(n.size.value-M)/(M-n.thumbSize.value),me=l.distance[q.dist],ve=D+(l.direction===q.dir?1:-1)*me*de;G(ve,r)}function L(l,r){const n=t[r];if(n.thumbHidden.value!==!0){const q=l[O[r].offset];if(q<n.thumbStart.value||q>n.thumbStart.value+n.thumbSize.value){const M=q-n.thumbSize.value/2;G(M/a[r].value*n.size.value,r)}n.ref.value!==null&&n.ref.value.dispatchEvent(new MouseEvent(l.type,l))}}function se(l){L(l,"vertical")}function ne(l){L(l,"horizontal")}function Q(){S.value=!0,w!==null&&clearTimeout(w),w=setTimeout(()=>{w=null,S.value=!1},o.delay),o.onScroll!==void 0&&j()}function G(l,r){_.value[O[r].scroll]=l}let k=null;function ue(){k!==null&&clearTimeout(k),k=setTimeout(()=>{k=null,h.value=!0},g.$q.platform.is.ios?50:0)}function ce(){k!==null&&(clearTimeout(k),k=null),h.value=!1}let P=null;return ge(()=>g.$q.lang.rtl,l=>{_.value!==null&&A(_.value,Math.abs(t.horizontal.position.value)*(l===!0?-1:1))}),ze(()=>{P={top:t.vertical.position.value,left:t.horizontal.position.value}}),ye(()=>{if(P===null)return;const l=_.value;l!==null&&(A(l,P.left),R(l,P.top))}),Se(j.cancel),Object.assign(g,{getScrollTarget:()=>_.value,getScroll:U,getScrollPosition:()=>({top:t.vertical.position.value,left:t.horizontal.position.value}),getScrollPercentage:()=>({top:t.vertical.percentage.value,left:t.horizontal.percentage.value}),setScrollPosition:N,setScrollPercentage(l,r,n){N(l,r*(t[l].size.value-a[l].value)*(l==="horizontal"&&g.$q.lang.rtl===!0?-1:1),n)}}),()=>b("div",{class:ee.value,onMouseenter:ue,onMouseleave:ce},[b("div",{ref:_,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:o.tabindex!==void 0?o.tabindex:void 0},[b("div",{class:"q-scrollarea__content absolute",style:te.value},_e(i.default,[b(K,{debounce:0,onResize:ae})])),b(Pe,{axis:"both",onScroll:ie})]),b(K,{debounce:0,onResize:re}),b("div",{class:t.vertical.barClass.value,style:[o.barStyle,o.verticalBarStyle],"aria-hidden":"true",onMousedown:se}),b("div",{class:t.horizontal.barClass.value,style:[o.barStyle,o.horizontalBarStyle],"aria-hidden":"true",onMousedown:ne}),I(b("div",{ref:t.vertical.ref,class:t.vertical.thumbClass.value,style:t.vertical.style.value,"aria-hidden":"true"}),le),I(b("div",{ref:t.horizontal.ref,class:t.horizontal.thumbClass.value,style:t.horizontal.style.value,"aria-hidden":"true"}),oe)])}});const Be={name:"ProductDetail",data(){return{product_id:this.$route.params.id,product:{},slide:0,radio:"",cantidad:1,favorite:!1}},watch:{"$route.params.id":function(){this.product_id=this.$route.params.id,this.productGet()}},mounted(){const o=JSON.parse(localStorage.getItem("favorites"))||[];this.favorite=o.includes(this.product_id),this.productGet()},methods:{productMore(){this.$store.addProduct({...this.product,cantidad:this.cantidad,item:this.radio}),this.$alert.success("Producto agregado al carrito")},more(){this.cantidad<this.product.stock&&this.cantidad++},minus(){this.cantidad>1&&this.cantidad--},share(){const o={title:this.product.titulo,text:this.product.descripcion,url:window.location.href};navigator.share(o).then(()=>console.log("Successful share")).catch(i=>console.log("Error sharing",i))},favoritosClick(){const o=JSON.parse(localStorage.getItem("favorites"))||[];o.includes(this.product_id)?(this.$alert.success("Producto eliminado de favoritos"),this.favorite=!1,o.splice(o.indexOf(this.product_id),1),this.$store.favorites.splice(this.$store.favorites.indexOf(this.product_id),1)):(this.$alert.success("Producto agregado a favoritos"),this.favorite=!0,o.push(this.product_id),this.$store.favorites.push(this.product_id)),localStorage.setItem("favorites",JSON.stringify(o))},async productGet(){this.$axios.get(`producto/${this.product_id}`).then(o=>{this.product=o.data,this.radio=this.product.item1})}},computed:{hidenHeader(){return this.$q.screen.lt.sm}}},Oe={class:"row"},De=u("div",{class:"col-12 col-md-1"},null,-1),Ue={class:"col-12 col-md-10"},je={class:"row"},Ne={key:0,class:"col-12 row items-center q-pt-md q-px-md"},Ee={class:"col-12"},Le={class:"row"},Ge={class:"col-12 col-md-6"},Ie={class:"row"},Re={class:"col-12 row items-center q-pt-md"},Fe={class:"col-12 col-md-6 q-pa-md"},Je={class:"text-bold text-h5 q-px-md"},Ke={class:"row items-center"},We={class:"q-pa-md"},Xe={class:"text-bold q-pl-xs"},Ye={class:"text-bold q-pl-xs"},Ze={class:"text-bold text-h6 q-px-md"},$e={class:"text-blue-8 text-bold text-h5"},et={key:0,class:"text-grey-8 text-bold text-h5 line-through q-ml-md"},tt={class:"q-px-md"},lt=["innerHTML"],ot={class:"q-px-md q-pt-md"},rt={class:"q-px-md q-pt-md"},it={class:"text-h6 q-px-md"},at=u("div",{class:"col-12 col-md-1"},null,-1);function st(o,i,V,S,e,h){return d(),p(Me,null,{default:x(()=>{var a,t,g;return[u("div",Oe,[De,u("div",Ue,[u("div",je,[h.hidenHeader?v("",!0):(d(),F("div",Ne,[c(z,{round:"",size:"12px",unelevated:"",color:"grey-3","text-color":"black",icon:"fa-solid fa-arrow-left","aria-label":"Back",onClick:i[0]||(i[0]=s=>o.$router.push("/products"))}),c(B),c(J,{flat:""},{default:x(()=>[c(z,{round:"","text-color":e.favorite?"red":"black",size:"12px",icon:"fa-solid fa-heart","aria-label":"Like",onClick:h.favoritosClick},null,8,["text-color","onClick"]),c(z,{round:"","text-color":"black",size:"12px",onClick:h.share,icon:"fa-solid fa-share-nodes","aria-label":"Share"},null,8,["onClick"])]),_:1})])),u("div",Ee,[u("div",Le,[u("div",Ge,[c(we,{class:"br-20",animated:"",modelValue:e.slide,"onUpdate:modelValue":i[2]||(i[2]=s=>e.slide=s),arrows:"",navigation:"",autoplay:"",infinite:"",height:o.$q.screen.lt.sm?"400px":"500px","control-color":"primary"},qe({default:x(()=>[e.product.imagen1?(d(),p(T,{key:0,"img-src":`${o.$url}../images/${e.product.imagen1}`,name:0},null,8,["img-src"])):v("",!0),e.product.imagen2?(d(),p(T,{key:1,"img-src":`${o.$url}../images/${e.product.imagen2}`,name:1},null,8,["img-src"])):v("",!0),e.product.imagen3?(d(),p(T,{key:2,"img-src":`${o.$url}../images/${e.product.imagen3}`,name:2},null,8,["img-src"])):v("",!0),e.product.imagen4?(d(),p(T,{key:3,"img-src":`${o.$url}../images/${e.product.imagen4}`,name:3},null,8,["img-src"])):v("",!0)]),_:2},[h.hidenHeader?{name:"control",fn:x(()=>[c(He,{position:"top",offset:[18,0],class:"text-white rounded-borders"},{default:x(()=>[u("div",Ie,[u("div",Re,[c(z,{round:"",size:"12px",unelevated:"",color:"grey-3","text-color":"black",icon:"fa-solid fa-arrow-left","aria-label":"Back",onClick:i[1]||(i[1]=s=>o.$router.push("/"))}),c(B),c(J,{flat:""},{default:x(()=>[c(z,{round:"","text-color":e.favorite?"red":"black",size:"12px",icon:"fa-solid fa-heart","aria-label":"Like",onClick:h.favoritosClick},null,8,["text-color","onClick"]),c(z,{round:"","text-color":"black",size:"12px",onClick:h.share,icon:"fa-solid fa-share-nodes","aria-label":"Share"},null,8,["onClick"])]),_:1})])])]),_:1})]),key:"0"}:void 0]),1032,["modelValue","height"])]),u("div",Fe,[u("div",Je,C(e.product.titulo),1),c(xe,{inset:""}),u("div",Ke,[u("div",We,[c(Ce,{name:"fa-solid fa-star",color:"grey"}),u("span",Xe,C((a=e.product.category)==null?void 0:a.name),1),Ve(" | "),u("span",Ye,C((t=e.product.sub_category)==null?void 0:t.name),1)]),c(B),e.product.stock>0?(d(),p(Qe,{key:0,color:"green-2","text-color":"green-7",label:`Stock ${(g=e.product)==null?void 0:g.stock}`,class:"text-bold text-subtitle2"},null,8,["label"])):v("",!0)]),u("div",Ze,[u("span",$e,"$"+C(e.product.precio),1),e.product.precioAnterior?(d(),F("span",et," $"+C(e.product.precioAnterior),1)):v("",!0)]),u("div",tt,[c(Ae,{style:{height:"180px"}},{default:x(()=>[u("div",{class:"text-grey-8",innerHTML:e.product.descripcion},null,8,lt)]),_:1})]),u("div",ot,[e.product.item1?(d(),p(y,{key:0,modelValue:e.radio,"onUpdate:modelValue":i[3]||(i[3]=s=>e.radio=s),val:e.product.item1,class:"q-pl-md",label:e.product.item1,color:"primary",dense:""},null,8,["modelValue","val","label"])):v("",!0),e.product.item2?(d(),p(y,{key:1,modelValue:e.radio,"onUpdate:modelValue":i[4]||(i[4]=s=>e.radio=s),val:e.product.item2,class:"q-pl-md",label:e.product.item2,color:"primary",dense:""},null,8,["modelValue","val","label"])):v("",!0),e.product.item3?(d(),p(y,{key:2,modelValue:e.radio,"onUpdate:modelValue":i[5]||(i[5]=s=>e.radio=s),val:e.product.item3,class:"q-pl-md",label:e.product.item3,color:"primary",dense:""},null,8,["modelValue","val","label"])):v("",!0),e.product.item4?(d(),p(y,{key:3,modelValue:e.radio,"onUpdate:modelValue":i[6]||(i[6]=s=>e.radio=s),val:e.product.item4,class:"q-pl-md",label:e.product.item4,color:"primary",dense:""},null,8,["modelValue","val","label"])):v("",!0),e.product.item5?(d(),p(y,{key:4,modelValue:e.radio,"onUpdate:modelValue":i[7]||(i[7]=s=>e.radio=s),val:e.product.item5,class:"q-pl-md",label:e.product.item5,color:"primary",dense:""},null,8,["modelValue","val","label"])):v("",!0),e.product.item6?(d(),p(y,{key:5,modelValue:e.radio,"onUpdate:modelValue":i[8]||(i[8]=s=>e.radio=s),val:e.product.item6,class:"q-pl-md",label:e.product.item6,color:"primary",dense:""},null,8,["modelValue","val","label"])):v("",!0),e.product.item7?(d(),p(y,{key:6,modelValue:e.radio,"onUpdate:modelValue":i[9]||(i[9]=s=>e.radio=s),val:e.product.item7,class:"q-pl-md",label:e.product.item7,color:"primary",dense:""},null,8,["modelValue","val","label"])):v("",!0),e.product.item8?(d(),p(y,{key:7,modelValue:e.radio,"onUpdate:modelValue":i[10]||(i[10]=s=>e.radio=s),val:e.product.item8,class:"q-pl-md",label:e.product.item8,color:"primary",dense:""},null,8,["modelValue","val","label"])):v("",!0),e.product.item9?(d(),p(y,{key:8,modelValue:e.radio,"onUpdate:modelValue":i[11]||(i[11]=s=>e.radio=s),val:e.product.item9,class:"q-pl-md",label:e.product.item9,color:"primary",dense:""},null,8,["modelValue","val","label"])):v("",!0),e.product.item10?(d(),p(y,{key:9,modelValue:e.radio,"onUpdate:modelValue":i[12]||(i[12]=s=>e.radio=s),val:e.product.item10,class:"q-pl-md",label:e.product.item10,color:"primary",dense:""},null,8,["modelValue","val","label"])):v("",!0)]),u("div",rt,[c(z,{square:"",dense:"",color:"primary",icon:"fa-solid fa-minus",onClick:h.minus,size:"10px"},null,8,["onClick"]),u("span",it,C(e.cantidad),1),c(z,{square:"",dense:"",color:"primary",icon:"fa-solid fa-plus",onClick:h.more,size:"10px"},null,8,["onClick"])]),u("div",null,[c(z,{rounded:"",color:"primary","text-color":"white",label:"Agregar",class:"q-my-md",icon:"fa-solid fa-cart-plus","no-caps":"",onClick:h.productMore},null,8,["onClick"]),c(z,{rounded:"",type:"a",target:"_blank",href:`https://wa.me/5916960327?text=Quiero%20${e.product.titulo}%20${e.cantidad}%20${e.cantidad==1?"unidad":"unidades"}%20por%20${e.product.precio}`,color:"green-8","text-color":"white",label:"Whatsapp",class:"q-my-md q-ml-md",icon:"fa-brands fa-whatsapp","no-caps":""},null,8,["href"])])])])])])]),at])]}),_:1})}var _t=Te(Be,[["render",st]]);export{_t as default};

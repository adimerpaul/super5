import{ad as Qe,r as q,f as l,au as De,aI as O,o as Ee,ab as je,aJ as Ke,q as ce,aq as Ue,p as m,at as Ge,aK as Oe,c as Je,aL as He,w as We,v as Xe,B as P,C as Ye,E as I,G as p,H as f,I as ne,J as Ze,aF as et,aM as tt,K as T,M as J,O as at,P as lt,R as rt,S as st,an as ot,F as nt,L as it}from"./index.9378a5f4.js";import{Q as H}from"./QSelect.8f299c1a.js";import{T as ut}from"./TouchPan.994f23b5.js";import{b as V}from"./format.2cae61da.js";import{Q as ct}from"./QImg.cab53abc.js";import{Q as ie}from"./QSpace.43b899ba.js";import{Q as dt}from"./QPage.65b06720.js";import{_ as vt}from"./plugin-vue_export-helper.21dcd24c.js";import"./QMenu.9b30d412.js";import"./QItem.93c38175.js";import"./selection.7f999133.js";import"./touch.9135741d.js";const ue="q-slider__marker-labels",mt=a=>({value:a}),bt=({marker:a})=>m("div",{key:a.value,style:a.style,class:a.classes},a.label),de=[34,37,40,33,39,38],ft={...je,...Ke,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:a=>a>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},pt=["pan","update:modelValue","change"];function ht({updateValue:a,updatePosition:o,getDragging:b,formAttrs:n}){const{props:e,emit:C,slots:s,proxy:{$q:d}}=ce(),B=Qe(e,d),z=Oe(n),g=q(!1),w=q(!1),k=q(!1),L=q(!1),h=l(()=>e.vertical===!0?"--v":"--h"),Q=l(()=>"-"+(e.switchLabelSide===!0?"switched":"standard")),y=l(()=>e.vertical===!0?e.reverse===!0:e.reverse!==(d.lang.rtl===!0)),x=l(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),_=l(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax),c=l(()=>e.disable!==!0&&e.readonly!==!0&&x.value<_.value),S=l(()=>{if(e.step===0)return r=>r;const t=(String(e.step).trim().split(".")[1]||"").length;return r=>parseFloat(r.toFixed(t))}),M=l(()=>e.step===0?1:e.step),ve=l(()=>c.value===!0?e.tabindex||0:-1),F=l(()=>e.max-e.min),W=l(()=>_.value-x.value),R=l(()=>E(x.value)),D=l(()=>E(_.value)),N=l(()=>e.vertical===!0?y.value===!0?"bottom":"top":y.value===!0?"right":"left"),X=l(()=>e.vertical===!0?"height":"width"),me=l(()=>e.vertical===!0?"width":"height"),Y=l(()=>e.vertical===!0?"vertical":"horizontal"),be=l(()=>{const t={role:"slider","aria-valuemin":x.value,"aria-valuemax":_.value,"aria-orientation":Y.value,"data-step":e.step};return e.disable===!0?t["aria-disabled"]="true":e.readonly===!0&&(t["aria-readonly"]="true"),t}),fe=l(()=>`q-slider q-slider${h.value} q-slider--${g.value===!0?"":"in"}active inline no-wrap `+(e.vertical===!0?"row":"column")+(e.disable===!0?" disabled":" q-slider--enabled"+(c.value===!0?" q-slider--editable":""))+(k.value==="both"?" q-slider--focus":"")+(e.label||e.labelAlways===!0?" q-slider--label":"")+(e.labelAlways===!0?" q-slider--label-always":"")+(B.value===!0?" q-slider--dark":"")+(e.dense===!0?" q-slider--dense q-slider--dense"+h.value:""));function A(t){const r="q-slider__"+t;return`${r} ${r}${h.value} ${r}${h.value}${Q.value}`}function Z(t){const r="q-slider__"+t;return`${r} ${r}${h.value}`}const pe=l(()=>{const t=e.selectionColor||e.color;return"q-slider__selection absolute"+(t!==void 0?` text-${t}`:"")}),he=l(()=>Z("markers")+" absolute overflow-hidden"),ge=l(()=>Z("track-container")),ke=l(()=>A("pin")),xe=l(()=>A("label")),Ce=l(()=>A("text-container")),ye=l(()=>A("marker-labels-container")+(e.markerLabelsClass!==void 0?` ${e.markerLabelsClass}`:"")),_e=l(()=>"q-slider__track relative-position no-outline"+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),Se=l(()=>{const t={[me.value]:e.trackSize};return e.trackImg!==void 0&&(t.backgroundImage=`url(${e.trackImg}) !important`),t}),$e=l(()=>"q-slider__inner absolute"+(e.innerTrackColor!==void 0?` bg-${e.innerTrackColor}`:"")),ee=l(()=>{const t=D.value-R.value,r={[N.value]:`${100*R.value}%`,[X.value]:t===0?"2px":`${100*t}%`};return e.innerTrackImg!==void 0&&(r.backgroundImage=`url(${e.innerTrackImg}) !important`),r});function Me(t){const{min:r,max:i,step:u}=e;let v=r+t*(i-r);if(u>0){const $=(v-x.value)%u;v+=(Math.abs($)>=u/2?($<0?-1:1)*u:0)-$}return v=S.value(v),V(v,x.value,_.value)}function E(t){return F.value===0?0:(t-e.min)/F.value}function qe(t,r){const i=Ue(t),u=e.vertical===!0?V((i.top-r.top)/r.height,0,1):V((i.left-r.left)/r.width,0,1);return V(y.value===!0?1-u:u,R.value,D.value)}const te=l(()=>De(e.markers)===!0?e.markers:M.value),ae=l(()=>{const t=[],r=te.value,i=e.max;let u=e.min;do t.push(u),u+=r;while(u<i);return t.push(i),t}),le=l(()=>{const t=` ${ue}${h.value}-`;return ue+`${t}${e.switchMarkerLabelsSide===!0?"switched":"standard"}${t}${y.value===!0?"rtl":"ltr"}`}),j=l(()=>e.markerLabels===!1?null:Le(e.markerLabels).map((t,r)=>({index:r,value:t.value,label:t.label||t.value,classes:le.value+(t.classes!==void 0?" "+t.classes:""),style:{...se(t.value),...t.style||{}}}))),re=l(()=>({markerList:j.value,markerMap:Te.value,classes:le.value,getStyle:se})),we=l(()=>{const t=W.value===0?"2px":100*te.value/W.value;return{...ee.value,backgroundSize:e.vertical===!0?`2px ${t}%`:`${t}% 2px`}});function Le(t){if(t===!1)return null;if(t===!0)return ae.value.map(mt);if(typeof t=="function")return ae.value.map(i=>{const u=t(i);return O(u)===!0?{...u,value:i}:{value:i,label:u}});const r=({value:i})=>i>=e.min&&i<=e.max;return Array.isArray(t)===!0?t.map(i=>O(i)===!0?i:{value:i}).filter(r):Object.keys(t).map(i=>{const u=t[i],v=Number(i);return O(u)===!0?{...u,value:v}:{value:v,label:u}}).filter(r)}function se(t){return{[N.value]:`${100*(t-e.min)/F.value}%`}}const Te=l(()=>{if(e.markerLabels===!1)return null;const t={};return j.value.forEach(r=>{t[r.value]=r}),t});function Ve(){if(s["marker-label-group"]!==void 0)return s["marker-label-group"](re.value);const t=s["marker-label"]||bt;return j.value.map(r=>t({marker:r,...re.value}))}const Be=l(()=>[[ut,Ie,void 0,{[Y.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Ie(t){t.isFinal===!0?(L.value!==void 0&&(o(t.evt),t.touch===!0&&a(!0),L.value=void 0,C("pan","end")),g.value=!1,k.value=!1):t.isFirst===!0?(L.value=b(t.evt),o(t.evt),a(),g.value=!0,C("pan","start")):(o(t.evt),a())}function oe(){k.value=!1}function Fe(t){o(t,b(t)),a(),w.value=!0,g.value=!0,document.addEventListener("mouseup",K,!0)}function K(){w.value=!1,g.value=!1,a(!0),oe(),document.removeEventListener("mouseup",K,!0)}function Re(t){o(t,b(t)),a(!0)}function Ne(t){de.includes(t.keyCode)&&a(!0)}function Ae(t){if(e.vertical===!0)return null;const r=d.lang.rtl!==e.reverse?1-t:t;return{transform:`translateX(calc(${2*r-1} * ${e.thumbSize} / 2 + ${50-100*r}%))`}}function Pe(t){const r=l(()=>w.value===!1&&(k.value===t.focusValue||k.value==="both")?" q-slider--focus":""),i=l(()=>`q-slider__thumb q-slider__thumb${h.value} q-slider__thumb${h.value}-${y.value===!0?"rtl":"ltr"} absolute non-selectable`+r.value+(t.thumbColor.value!==void 0?` text-${t.thumbColor.value}`:"")),u=l(()=>({width:e.thumbSize,height:e.thumbSize,[N.value]:`${100*t.ratio.value}%`,zIndex:k.value===t.focusValue?2:void 0})),v=l(()=>t.labelColor.value!==void 0?` text-${t.labelColor.value}`:""),$=l(()=>Ae(t.ratio.value)),U=l(()=>"q-slider__text"+(t.labelTextColor.value!==void 0?` text-${t.labelTextColor.value}`:""));return()=>{const G=[m("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[m("path",{d:e.thumbPath})]),m("div",{class:"q-slider__focus-ring fit"})];return(e.label===!0||e.labelAlways===!0)&&(G.push(m("div",{class:ke.value+" absolute fit no-pointer-events"+v.value},[m("div",{class:xe.value,style:{minWidth:e.thumbSize}},[m("div",{class:Ce.value,style:$.value},[m("span",{class:U.value},t.label.value)])])])),e.name!==void 0&&e.disable!==!0&&z(G,"push")),m("div",{class:i.value,style:u.value,...t.getNodeData()},G)}}function ze(t,r,i,u){const v=[];e.innerTrackColor!=="transparent"&&v.push(m("div",{key:"inner",class:$e.value,style:ee.value})),e.selectionColor!=="transparent"&&v.push(m("div",{key:"selection",class:pe.value,style:t.value})),e.markers!==!1&&v.push(m("div",{key:"marker",class:he.value,style:we.value})),u(v);const $=[Ge("div",{key:"trackC",class:ge.value,tabindex:r.value,...i.value},[m("div",{class:_e.value,style:Se.value},v)],"slide",c.value,()=>Be.value)];if(e.markerLabels!==!1){const U=e.switchMarkerLabelsSide===!0?"unshift":"push";$[U](m("div",{key:"markerL",class:ye.value},Ve()))}return $}return Ee(()=>{document.removeEventListener("mouseup",K,!0)}),{state:{active:g,focus:k,preventFocus:w,dragging:L,editable:c,classes:fe,tabindex:ve,attributes:be,roundValueFn:S,keyStep:M,trackLen:F,innerMin:x,innerMinRatio:R,innerMax:_,innerMaxRatio:D,positionProp:N,sizeProp:X,isReversed:y},methods:{onActivate:Fe,onMobileClick:Re,onBlur:oe,onKeyup:Ne,getContent:ze,getThumbRenderFn:Pe,convertRatioToModel:Me,convertModelToRatio:E,getDraggingRatio:qe}}}const gt=()=>({});var kt=Je({name:"QSlider",props:{...ft,modelValue:{required:!0,default:null,validator:a=>typeof a=="number"||a===null},labelValue:[String,Number]},emits:pt,setup(a,{emit:o}){const{proxy:{$q:b}}=ce(),{state:n,methods:e}=ht({updateValue:h,updatePosition:y,getDragging:Q,formAttrs:He(a)}),C=q(null),s=q(0),d=q(0);function B(){d.value=a.modelValue===null?n.innerMin.value:V(a.modelValue,n.innerMin.value,n.innerMax.value)}We(()=>`${a.modelValue}|${n.innerMin.value}|${n.innerMax.value}`,B),B();const z=l(()=>e.convertModelToRatio(d.value)),g=l(()=>n.active.value===!0?s.value:z.value),w=l(()=>{const c={[n.positionProp.value]:`${100*n.innerMinRatio.value}%`,[n.sizeProp.value]:`${100*(g.value-n.innerMinRatio.value)}%`};return a.selectionImg!==void 0&&(c.backgroundImage=`url(${a.selectionImg}) !important`),c}),k=e.getThumbRenderFn({focusValue:!0,getNodeData:gt,ratio:g,label:l(()=>a.labelValue!==void 0?a.labelValue:d.value),thumbColor:l(()=>a.thumbColor||a.color),labelColor:l(()=>a.labelColor),labelTextColor:l(()=>a.labelTextColor)}),L=l(()=>n.editable.value!==!0?{}:b.platform.is.mobile===!0?{onClick:e.onMobileClick}:{onMousedown:e.onActivate,onFocus:x,onBlur:e.onBlur,onKeydown:_,onKeyup:e.onKeyup});function h(c){d.value!==a.modelValue&&o("update:modelValue",d.value),c===!0&&o("change",d.value)}function Q(){return C.value.getBoundingClientRect()}function y(c,S=n.dragging.value){const M=e.getDraggingRatio(c,S);d.value=e.convertRatioToModel(M),s.value=a.snap!==!0||a.step===0?M:e.convertModelToRatio(d.value)}function x(){n.focus.value=!0}function _(c){if(!de.includes(c.keyCode))return;Xe(c);const S=([34,33].includes(c.keyCode)?10:1)*n.keyStep.value,M=([34,37,40].includes(c.keyCode)?-1:1)*(n.isReversed.value===!0?-1:1)*(a.vertical===!0?-1:1)*S;d.value=V(n.roundValueFn.value(d.value+M),n.innerMin.value,n.innerMax.value),h()}return()=>{const c=e.getContent(w,n.tabindex,L,S=>{S.push(k())});return m("div",{ref:C,class:n.classes.value+(a.modelValue===null?" q-slider--no-value":""),...n.attributes.value,"aria-valuenow":a.modelValue},c)}}});const xt={name:"ProductsSearch",data(){return{search:"",products:[],precio:5e4,productsAll:[],categories:[{id:0,nombre:"Todas"}],subCategories:[{id:0,nombre:"Todas"}],category:{id:0,nombre:"Todas"},subCategory:{id:0,nombre:"Todas"},items:["Todas"],item:"Todas"}},mounted(){this.productsGet()},methods:{espacioGuiones(a){return a.replace(/ /g,"-")},productsGet(){this.$axios.get("products").then(a=>{a.data.forEach(o=>{this.categories.find(b=>b.id===o.category_id)||this.categories.push({id:o.category_id,nombre:o.category.name}),this.subCategories.find(b=>b.id===o.sub_category_id)||this.subCategories.push({id:o.sub_category_id,nombre:o.sub_category.name});for(let b=1;b<=10;b++){let n=o[`item${b}`];n!==null&&n!==""&&!this.items.includes(n)&&this.items.push(n)}}),this.products=a.data,this.productsAll=a.data})}},computed:{filteredProducts(){return this.products.filter(a=>(a==null?void 0:a.titulo)&&(a.titulo.includes(this.search)||a.descripcion.includes(this.search))&&(this.category.id===0||a.category_id===this.category.id)&&(this.subCategory.id===0||a.sub_category_id===this.subCategory.id)&&(this.item==="Todas"||a.item1===this.item||a.item2===this.item||a.item3===this.item||a.item4===this.item||a.item5===this.item||a.item6===this.item||a.item7===this.item||a.item8===this.item||a.item9===this.item||a.item10===this.item)&&parseInt(a.precio)<=this.precio)}}},Ct={class:"text-subtitle2 text-bold text-center q-pa-md bg-primary text-white",style:{"border-radius":"0px 0px 20px 20px"}},yt={style:{position:"absolute",left:"10px"}},_t={class:"row q-mt-xs q-mx-xs"},St={class:"col-12 col-md-6 offset-md-3"},$t=p("div",{class:"col-12 col-md-3 q-pa-xs"},null,-1),Mt={class:"col-6 col-md-3 q-pa-xs"},qt={class:"col-6 col-md-3 q-pa-xs"},wt={class:"col-6 col-md-3 q-pa-xs"},Lt={class:"col-6 col-md-3 q-pa-xs q-pr-md"},Tt={class:"text-caption text-center"},Vt={class:"text-grey-7"},Bt={class:"row items-center"},It={class:"text-blue-7 text-bold"},Ft={key:0,class:"text-grey-7 text-bold line-through"};function Rt(a,o,b,n,e,C){return P(),Ye(dt,null,{default:I(()=>[p("div",Ct,[p("div",yt,[f(ne,{flat:"",round:"",dense:"",color:"white",icon:"arrow_back",onClick:o[0]||(o[0]=s=>this.$router.go(-1))})]),Ze(" Buscar productos ")]),p("div",_t,[p("div",St,[f(tt,{outlined:"",modelValue:e.search,"onUpdate:modelValue":o[1]||(o[1]=s=>e.search=s),label:"Buscar",rounded:"",dense:""},{prepend:I(()=>[f(et,{name:"search"})]),_:1},8,["modelValue"])]),$t,p("div",Mt,[f(H,{outlined:"",modelValue:e.category,"onUpdate:modelValue":o[2]||(o[2]=s=>e.category=s),options:e.categories,label:"Categor\xEDa",dense:"","emit-value":"","map-options":"","option-label":s=>s.nombre,"option-value":s=>s},null,8,["modelValue","options","option-label","option-value"])]),p("div",qt,[f(H,{outlined:"",modelValue:e.subCategory,"onUpdate:modelValue":o[3]||(o[3]=s=>e.subCategory=s),options:e.subCategories,label:"Subcategor\xEDa",dense:"","emit-value":"","map-options":"","option-label":s=>s.nombre,"option-value":s=>s},null,8,["modelValue","options","option-label","option-value"])]),p("div",wt,[f(H,{outlined:"",modelValue:e.item,"onUpdate:modelValue":o[4]||(o[4]=s=>e.item=s),options:e.items,label:"Item",dense:""},null,8,["modelValue","options"])]),p("div",Lt,[f(kt,{modelValue:e.precio,"onUpdate:modelValue":o[5]||(o[5]=s=>e.precio=s),min:0,max:5e4},null,8,["modelValue"]),p("div",Tt," $ "+T(e.precio),1)]),(P(!0),J(lt,null,at(C.filteredProducts,(s,d)=>(P(),J("div",{key:d,class:"col-12 col-md-3"},[f(rt,{class:"q-ma-sm cursor-pointer",flat:"",bordered:"",onClick:B=>a.$router.push(`/producto/${s.id}/${C.espacioGuiones(s.titulo)}`)},{default:I(()=>[f(st,{horizontal:""},{default:I(()=>[f(ct,{class:"col-4",src:`${a.$url}../images/${s.imagen1}`,height:"120px"},null,8,["src"]),f(ot,{vertical:"",class:"justify-around q-px-md"},{default:I(()=>[p("div",{class:"text-grey-7 text-bold",style:nt(`overflow: hidden; text-overflow: ellipsis; white-space: nowrap;width: ${a.$q.screen.lt.sm?"230px":"165px"};`)},T(s.titulo),5),p("div",Vt,T(s.category.name)+" - "+T(s.sub_category.name),1),p("div",Bt,[p("div",It," $ "+T(s.precio),1),f(ie),s.precioAnterior?(P(),J("div",Ft," $ "+T(s.precioAnterior),1)):it("",!0),f(ie),f(ne,{size:"8px",color:"primary",unelevated:"",icon:"fa-solid fa-angles-right","aria-label":"Like"})])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])]))),128))])]),_:1})}var Jt=vt(xt,[["render",Rt]]);export{Jt as default};
